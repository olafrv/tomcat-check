#summary The installation, configuration and running procedure
#labels Featured,Phase-Deploy

= Files =

*/usr/bin/tomcat-check.pl*

   The main perl script (daemon). Permission of this file must be 0755 with owner and group equal to *root*.

*/etc/tomcat-check.xml*

   The well formed XML configuration file.  Download an example [http://tomcat-check.googlecode.com/files/tomcat-check.xml here].

   The structure of the file is just like this:

{{{

<?xml version="1.0" encoding="utf-8"?>
<servers cycle="20" syslog="on" daemon="on" debug="off" debuglevel="2" mail="n">
  <server ip="192.168.1.1" port="8080" user="admin" password="123456">
    <checks>
      <check number="1" command="status" param="requestProcessingTime" type="range" min="0" max="30000">
        <alarm mailto="root@localhost"/>
      </check>
      <check number="2" command="status" param="requestProcessingTime" type="range" min="0" max="60000">
        <alarm mailto="root@localhost,admin@localhost"/>
      </check>
    </checks>
  </server>
  <server ip="192.168.1.2" port="8080" user="admin" password="456789">
    <checks>
      <check number="1" command="status" param="requestProcessingTime" type="range" min="0" max="30000">
        <alarm mailto="root@localhost"/>
      </check>
      <check number="2" command="status" param="requestProcessingTime" type="range" min="0" max="60000">
        <alarm mailto="root@localhost,admin@localhost"/>
      </check>
    </checks>
  </server>
 </servers>

}}}


   Permission of this file must be *0770* with owner and group equal to *root*, this is because in general it include Apache Tomcat Manager access passwords.

*/tmp/tomcat-check-status.xml*

   A temporal file to store the output downloaded from Apache Tomcat Manager *[http://user:password@host:port/manager/status?XML=true]* each time a check is performed by the main perl script.

*/var/run/tomcat-check.pid*

  The tomcat-check process pid file.

= Running = 

{{{
# tomcat-check.pl
}}} 